{"version":3,"file":"e9ff33bf.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/utilities/video_parameters.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/Video/Video.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/ExternalVideo/ExternalVideo.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/MediaFile/MediaFile.js","../../../src/components/Gallery.client.jsx"],"sourcesContent":["import { useMemo } from 'react';\nexport function addParametersToEmbeddedVideoUrl(url, parameters) {\n    if (parameters == null) {\n        return url;\n    }\n    const params = Object.keys(parameters).reduce((accumulator, param) => {\n        const value = parameters[param];\n        if (value == null) {\n            return accumulator;\n        }\n        return accumulator + `&${param}=${value}`;\n    }, '');\n    return `${url}?${params}`;\n}\nexport function useEmbeddedVideoUrl(url, parameters) {\n    return useMemo(() => {\n        if (!parameters) {\n            return url;\n        }\n        return addParametersToEmbeddedVideoUrl(url, parameters);\n    }, [url, parameters]);\n}\n","import React from 'react';\nimport { useImageUrl } from '../../utilities';\n/**\n * The `Video` component renders a `video` for the Storefront API's [Video object](https://shopify.dev/api/storefront/reference/products/video).\n */\nexport function Video(props) {\n    var _a;\n    const { data, options, id = data.id, playsInline = true, controls = true, ...passthroughProps } = props;\n    const posterUrl = useImageUrl((_a = data.previewImage) === null || _a === void 0 ? void 0 : _a.url, options);\n    if (!data.sources) {\n        throw new Error(`<Video/> requires a 'data.sources' array`);\n    }\n    return (\n    // eslint-disable-next-line jsx-a11y/media-has-caption\n    React.createElement(\"video\", { ...passthroughProps, id: id, playsInline: playsInline, controls: controls, poster: posterUrl }, data.sources.map((source) => {\n        if (!((source === null || source === void 0 ? void 0 : source.url) && (source === null || source === void 0 ? void 0 : source.mimeType))) {\n            throw new Error(`<Video/> needs 'source.url' and 'source.mimeType'`);\n        }\n        return (React.createElement(\"source\", { key: source.url, src: source.url, type: source.mimeType }));\n    })));\n}\n","import React from 'react';\nimport { useEmbeddedVideoUrl } from '../../utilities';\n/**\n * The `ExternalVideo` component renders an embedded video for the Storefront\n * API's [ExternalVideo object](https://shopify.dev/api/storefront/reference/products/externalvideo).\n */\nexport function ExternalVideo(props) {\n    const { data, options, id = data.id, frameBorder = '0', allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture', allowFullScreen = true, ...passthroughProps } = props;\n    if (!data.embedUrl) {\n        throw new Error(`<ExternalVideo/> requires the 'embedUrl' property`);\n    }\n    const url = useEmbeddedVideoUrl(data.embedUrl, options);\n    return (React.createElement(\"iframe\", { ...passthroughProps, id: id !== null && id !== void 0 ? id : data.embedUrl, frameBorder: frameBorder, allow: allow, allowFullScreen: allowFullScreen, src: url }));\n}\n","import React from 'react';\nimport { Image } from '../Image';\nimport { Video } from '../Video';\nimport { ExternalVideo } from '../ExternalVideo';\nimport { ModelViewer } from '../ModelViewer';\n/**\n * The `MediaFile` component renders the media for the Storefront API's\n * [Media object](https://shopify.dev/api/storefront/reference/products/media). It renders an `Image`, a\n * `Video`, an `ExternalVideo`, or a `ModelViewer` depending on the `mediaContentType` of the\n * `media` provided as a prop.\n */\nexport function MediaFile({ data, options, ...passthroughProps }) {\n    switch (data.mediaContentType) {\n        case 'IMAGE': {\n            const dataImage = data.image;\n            if (!dataImage) {\n                console.warn(`No \"image\" property was found on the \"data\" prop for <MediaFile/>, for the \"type='image'\"`);\n                return null;\n            }\n            return (React.createElement(Image, { ...passthroughProps, data: dataImage, options: options }));\n        }\n        case 'VIDEO':\n            return (React.createElement(Video, { ...passthroughProps, data: data, options: options }));\n        case 'EXTERNAL_VIDEO':\n            return (React.createElement(ExternalVideo, { ...passthroughProps, data: data, options: options }));\n        case 'MODEL_3D':\n            return (React.createElement(ModelViewer, { ...passthroughProps, data: data }));\n        default:\n            return null;\n    }\n}\n","import {useProduct, MediaFile, Image} from '@shopify/hydrogen/client';\nimport {\n  MdOutlineKeyboardArrowRight,\n  MdOutlineKeyboardArrowLeft,\n} from 'react-icons/md';\nimport {useState, useEffect} from 'react';\n/**\n * A client component that defines a media gallery for hosting images, 3D models, and videos of products\n */\nexport default function Gallery() {\n  const {media, selectedVariant} = useProduct();\n  const [scrollPosition, setScrollPosition] = useState(0);\n  const [scrollPositionTrack, setScrollPositionTrack] = useState(0);\n\n  const featuredMedia = selectedVariant.image || media[0]?.image;\n  const featuredMediaSrc = featuredMedia?.url.split('?')[0];\n  const galleryMedia = media.filter((med) => {\n    if (\n      med.mediaContentType === MODEL_3D_TYPE ||\n      med.mediaContentType === VIDEO_TYPE ||\n      med.mediaContentType === EXTERNAL_VIDEO_TYPE\n    ) {\n      return true;\n    }\n    return !med.image.url.includes(featuredMediaSrc);\n  });\n\n  if (!media.length) {\n    return null;\n  }\n\n  useEffect(() => {\n    let imgScroll = document.getElementById('imgScroll');\n    imgScroll.scrollLeft = imgScroll.clientWidth * scrollPosition - 1;\n\n    imgScroll.addEventListener('scroll', () => {\n      if (\n        imgScroll.scrollLeft % imgScroll.clientWidth == 0 &&\n        !(\n          Math.floor(imgScroll.scrollLeft / imgScroll.clientWidth) ==\n          scrollPosition\n        )\n      ) {\n        setScrollPosition(\n          Math.floor(imgScroll.scrollLeft / imgScroll.clientWidth),\n        );\n      }\n    });\n  }, [scrollPosition]);\n\n  return (\n    <div className=\"relative flex-col w-full h-fit \">\n      <div className=\"relative w-fit h-fit\">\n        {(() => {\n          if (scrollPosition != galleryMedia.length) {\n            return (\n              <button\n                onClick={() => {\n                  let imgScroll = document.getElementById('imgScroll');\n                  imgScroll.scrollLeft += imgScroll.clientWidth;\n                  setScrollPosition(scrollPosition + 1);\n                }}\n                className=\"absolute z-20 p-1 -ml-2 -translate-x-full bg-white rounded-full md:hidden left-full top-1/2 \"\n              >\n                <MdOutlineKeyboardArrowRight className=\"w-6 h-6 mx-auto fill-c1\" />\n              </button>\n            );\n          }\n        })()}\n\n        {(() => {\n          if (scrollPosition != 0) {\n            return (\n              <button\n                onClick={() => {\n                  let imgScroll = document.getElementById('imgScroll');\n                  imgScroll.scrollLeft -= imgScroll.clientWidth;\n                  setScrollPosition(scrollPosition - 1);\n                }}\n                className=\"absolute left-0 z-20 p-1 ml-2 bg-white rounded-full md:hidden top-1/2\"\n              >\n                <MdOutlineKeyboardArrowLeft className=\"w-6 h-6 fill-c1\" />\n              </button>\n            );\n          }\n        })()}\n\n        <div\n          id=\"imgScroll\"\n          className=\"md:gap-4 flex md:grid md:grid-cols-2 overflow-x-scroll no-scrollbar  scroll-snap-x scroll-smooth h-[485px] md:h-auto place-content-start relative\"\n          tabIndex=\"-1\"\n        >\n          <Image\n            fetchpriority=\"high\"\n            data={selectedVariant.image}\n            className=\"w-[100vw] md:w-full h-full md:h-auto object-cover object-center flex-shrink-0 md:flex-shrink-none snap-start md:col-span-2  md:rounded-lg\"\n          />\n          {galleryMedia.map((med) => {\n            let extraProps = {};\n            if (med.mediaContentType === MODEL_3D_TYPE) {\n              extraProps = MODEL_3D_PROPS;\n            }\n\n            return (\n              <MediaFile\n                tabIndex=\"0\"\n                key={med.id || med.image.id}\n                className=\"w-[100vw] md:w-auto h-full md:h-auto object-cover object-center transition-all snap-start  flex-shrink-0 md:rounded-lg\"\n                data={med}\n                fetchpriority=\"low\"\n                options={{\n                  height: '485',\n                  crop: 'center',\n                }}\n                {...extraProps}\n              />\n            );\n          })}\n        </div>\n      </div>\n      <div className=\"w-full pl-2 overflow-x-scroll no-scrollbar md:hidden\">\n        <div className=\"flex flex-row mt-2 w-fit\">\n          <button\n            onClick={() => setScrollPosition(0)}\n            className=\"w-20 h-20 mr-3\"\n          >\n            {(() => {\n              let border = '';\n              if (scrollPosition == 0) {\n                border = 'border-4';\n              }\n              return (\n                <Image\n                  fetchpriority=\"high\"\n                  data={selectedVariant.image}\n                  className={\n                    'w-20 h-20 md:w-auto rounded-3xl  md:h-auto object-cover object-center transition-all snap-start border-c1 flex-shrink-0  ' +\n                    border\n                  }\n                />\n              );\n            })()}\n          </button>\n          {galleryMedia.map((med, i) => {\n            let extraProps = {};\n            let border = '';\n            if (scrollPosition == i + 1) {\n              border = 'border-4';\n            }\n\n            return (\n              <button\n                onClick={() => setScrollPosition(i + 1)}\n                key={med.id || med.image.id}\n                className=\"w-20 h-20 mr-3 \"\n              >\n                <MediaFile\n                  tabIndex=\"0\"\n                  className={\n                    'w-20 h-20 md:w-auto rounded-3xl  md:h-auto object-cover object-center transition-all snap-start border-c1 flex-shrink-0   ' +\n                    border\n                  }\n                  data={med}\n                  fetchpriority=\"low\"\n                  options={{\n                    height: '485',\n                    crop: 'center',\n                  }}\n                  {...extraProps}\n                />\n              </button>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst MODEL_3D_TYPE = 'MODEL_3D';\nconst MODEL_3D_PROPS = {\n  interactionPromptThreshold: '0',\n};\nconst VIDEO_TYPE = 'VIDEO';\nconst EXTERNAL_VIDEO_TYPE = 'EXTERNAL_VIDEO';\n"],"names":["useMemo","media","selectedVariant","useProduct","scrollPosition","setScrollPosition","useState","featuredMedia","image","featuredMediaSrc","url","split","galleryMedia","filter","med","mediaContentType","MODEL_3D_TYPE","VIDEO_TYPE","EXTERNAL_VIDEO_TYPE","includes","length","useEffect","imgScroll","document","getElementById","scrollLeft","clientWidth","addEventListener","floor","Math","_jsxs","_jsx","map","extraProps","MODEL_3D_PROPS","height","crop","id","border","i","interactionPromptThreshold"],"mappings":"wrCACO,WAAyC,EAAK,EAAY,CAC7D,GAAI,GAAc,KACd,MAAO,GAEX,KAAM,GAAS,OAAO,KAAK,CAAU,EAAE,OAAO,CAAC,EAAa,IAAU,CAClE,KAAM,GAAQ,EAAW,GACzB,MAAI,IAAS,KACF,EAEJ,EAAc,IAAI,KAAS,GACrC,EAAE,EAAE,EACL,MAAO,GAAG,KAAO,GACrB,CACO,WAA6B,EAAK,EAAY,CACjD,MAAOA,GAAO,QAAA,QAAC,IACN,EAGE,EAAgC,EAAK,CAAU,EAF3C,EAGZ,CAAC,EAAK,CAAU,CAAC,CACxB,CChBO,WAAe,EAAO,CACzB,GAAI,GACJ,KAAkG,KAA1F,QAAM,UAAS,KAAK,EAAK,GAAI,cAAc,GAAM,WAAW,IAA8B,EAArB,IAAqB,EAArB,CAArE,OAAM,UAAS,KAAc,cAAoB,aACnD,EAAY,EAAa,GAAK,EAAK,gBAAkB,MAAQ,IAAO,OAAS,OAAS,EAAG,IAAK,CAAO,EAC3G,GAAI,CAAC,EAAK,QACN,KAAM,IAAI,OAAM,0CAA0C,EAE9D,MAEA,GAAM,cAAc,QAAS,OAAK,GAAL,CAAuB,GAAI,EAAI,YAAa,EAAa,SAAU,EAAU,OAAQ,CAAW,GAAE,EAAK,QAAQ,IAAI,AAAC,GAAW,CACxJ,GAAI,CAAG,KAAW,KAA4B,OAAS,EAAO,MAAS,IAAW,KAA4B,OAAS,EAAO,WAC1H,KAAM,IAAI,OAAM,mDAAmD,EAEvE,MAAQ,GAAM,cAAc,SAAU,CAAE,IAAK,EAAO,IAAK,IAAK,EAAO,IAAK,KAAM,EAAO,QAAU,CAAA,CACpG,CAAA,CAAC,CACN,CCdO,WAAuB,EAAO,CACjC,KAA2L,KAAnL,QAAM,UAAS,KAAK,EAAK,GAAI,cAAc,IAAK,QAAQ,0EAA2E,kBAAkB,IAA8B,EAArB,IAAqB,EAArB,CAA9J,OAAM,UAAS,KAAc,cAAmB,QAAmF,oBAC3I,GAAI,CAAC,EAAK,SACN,KAAM,IAAI,OAAM,mDAAmD,EAEvE,KAAM,GAAM,EAAoB,EAAK,SAAU,CAAO,EACtD,MAAQ,GAAM,cAAc,SAAU,OAAK,GAAL,CAAuB,GAAI,GAAO,KAAwB,EAAK,EAAK,SAAU,YAAa,EAAa,MAAO,EAAO,gBAAiB,EAAiB,IAAK,CAAK,EAAA,CAC5M,CCFO,WAAmB,EAAwC,CAAxC,QAAE,QAAM,WAAR,EAAoB,IAApB,EAAoB,CAAlB,OAAM,YAC9B,OAAQ,EAAK,sBACJ,QAAS,CACV,KAAM,GAAY,EAAK,MACvB,MAAK,GAIG,EAAM,cAAc,EAAO,OAAK,GAAL,CAAuB,KAAM,EAAW,QAAS,CAAO,EAAE,EAHzF,SAAQ,KAAK,2FAA2F,EACjG,KAGd,KACI,QACD,MAAQ,GAAM,cAAc,EAAO,OAAK,GAAL,CAAuB,KAAM,EAAM,QAAS,CAAO,EAAE,MACvF,iBACD,MAAQ,GAAM,cAAc,EAAe,OAAK,GAAL,CAAuB,KAAM,EAAM,QAAS,CAAO,EAAE,MAC/F,WACD,MAAQ,GAAM,cAAc,EAAa,OAAK,GAAL,CAAuB,KAAM,CAAI,EAAE,UAE5E,MAAO,MAEnB,CCrBkC,aAAA,OAC1B,KAAA,CAACC,QAAOC,mBAAmBC,EAAjC,EACM,CAACC,EAAgBC,GAAqBC,EAAAA,QAAAA,SAAS,CAAD,EACEA,EAAAA,QAAAA,SAAS,CAAD,EAE9D,KAAMC,GAAgBL,EAAgBM,OAASP,MAAM,KAANA,cAAUO,OACnDC,EAAmBF,iBAAeG,IAAIC,MAAM,KAAK,GACjDC,EAAeX,EAAMY,OAAQC,AAAQ,GAEvCA,EAAIC,mBAAqBC,GACzBF,EAAIC,mBAAqBE,GACzBH,EAAIC,mBAAqBG,EAElB,GAEF,CAACJ,EAAIN,MAAME,IAAIS,SAASV,CAAvB,CARW,EAWjB,MAACR,GAAMmB,OAIXC,GAAAA,QAAAA,UAAU,IAAM,CACVC,GAAAA,GAAYC,SAASC,eAAe,WAAxB,EACNC,EAAAA,WAAaH,EAAUI,YAActB,EAAiB,EAEtDuB,EAAAA,iBAAiB,SAAU,IAAM,CACzC,AACEL,EAAUG,WAAaH,EAAUI,aAAe,GAEzCE,KAAAA,MAAMN,EAAUG,WAAaH,EAAUI,WAA5C,GACAtB,GAGFC,EACEwB,KAAKD,MAAMN,EAAUG,WAAaH,EAAUI,WAA5C,CADe,CAGlB,CAXH,CAAA,EAaC,CAACtB,CAAD,CAjBM,IAoBP,MAAA,CAAK,UAAU,kCAAf,SACE,CAAA0B,EAAA,MAAA,CAAK,UAAU,uBAAf,SAAA,CACU,KAAA,CACF1B,GAAAA,GAAkBQ,EAAaQ,OACjC,SACE,SAAA,CACE,QAAS,IAAM,CACTE,GAAAA,GAAYC,SAASC,eAAe,WAAxB,EAChBF,EAAUG,YAAcH,EAAUI,YAClCrB,EAAkBD,EAAiB,CAAlB,CAClB,EACD,UAAU,+FANZ,WAQG,EAAD,CAA6B,UAAU,yBAAA,CAAvC,CAAA,CATJ,CAaH,GAAA,EAEO,KAAA,CACN,GAAIA,GAAkB,EACpB,SACE,SAAA,CACE,QAAS,IAAM,CACTkB,GAAAA,GAAYC,SAASC,eAAe,WAAxB,EAChBF,EAAUG,YAAcH,EAAUI,YAClCrB,EAAkBD,EAAiB,CAAlB,CAClB,EACD,UAAU,wEANZ,WAQG,EAAD,CAA4B,UAAU,iBAAA,CAAtC,CAAA,CATJ,CAYD,GAGH,EAAA0B,EAAA,MAAA,CACE,GAAG,YACH,UAAU,oJACV,SAAS,KAHX,SAAA,CAKEC,EAAC,EAAD,CACE,cAAc,OACd,KAAM7B,EAAgBM,MACtB,UAAU,2IAHZ,CAAA,EAKCI,EAAaoB,IAAKlB,AAAQ,GAAA,CACzB,GAAImB,GAAa,CAAA,EACbnB,MAAAA,GAAIC,mBAAqBC,GACdkB,GAAAA,KAIZ,EAAD,GACE,SAAS,IAET,UAAU,yHACV,KAAMpB,EACN,cAAc,MACd,QAAS,CACPqB,OAAQ,MACRC,KAAM,QAFC,GAILH,GARCnB,EAAIuB,IAAMvB,EAAIN,MAAM6B,EAF3B,CAAA,CAPH,CAVH,CAAA,CAnCF,CAAA,CAAA,CAAA,EAoEAN,EAAA,MAAA,CAAK,UAAU,uDAAf,WACE,MAAA,CAAK,UAAU,2BAAf,SACE,CAAAA,EAAA,SAAA,CACE,QAAS,IAAM1B,EAAkB,CAAD,EAChC,UAAU,iBAFZ,SAIU,KAAA,CACN,GAAIiC,GAAS,GACb,MAAIlC,IAAkB,GACX,GAAA,cAGR,EAAD,CACE,cAAc,OACd,KAAMF,EAAgBM,MACtB,UACE,4HACA8B,CAAAA,CANN,CAAA,GALD,CALL,CAAA,EAsBG1B,EAAaoB,IAAI,CAAClB,EAAKyB,IAAM,CAC5B,GAAIN,GAAa,CAAA,EACbK,EAAS,GACTlC,MAAAA,IAAkBmC,EAAI,GACf,GAAA,cAIT,SAAA,CACE,QAAS,IAAMlC,EAAkBkC,EAAI,CAAL,EAEhC,UAAU,kBAHZ,WAKG,EAAD,GACE,SAAS,IACT,UACE,6HACAD,EAEF,KAAMxB,EACN,cAAc,MACd,QAAS,CACPqB,OAAQ,MACRC,KAAM,QAFC,GAILH,EAZN,CAHKnB,EAAAA,EAAIuB,IAAMvB,EAAIN,MAAM6B,EAF3B,CAAA,CARH,CAtBH,CAAA,CAAA,CAAA,CAtEJ,CAAA,CAAA,CADF,GAtBS,IAqJV,CAED,KAAMrB,GAAgB,WAChBkB,EAAiB,CACrBM,2BAA4B,GADP,EAGjBvB,EAAa,QACbC,EAAsB"}