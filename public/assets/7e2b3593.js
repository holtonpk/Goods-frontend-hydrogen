import{_ as B}from"./acc1a395.js";var b;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(b||(b={}));var R=function(t){return t},j="beforeunload",I="hashchange",D="popstate";function K(t){t===void 0&&(t={});var y=t,l=y.window,i=l===void 0?document.defaultView:l,f=i.history;function h(){var r=i.location,n=r.pathname,e=r.search,c=r.hash,u=f.state||{};return[u.idx,R({pathname:n,search:e,hash:c,state:u.usr||null,key:u.key||"default"})]}var s=null;function H(){if(s)p.call(s),s=null;else{var r=b.Pop,n=h(),e=n[0],c=n[1];if(p.length){if(e!=null){var u=v-e;u&&(s={action:r,location:c,retry:function(){d(u*-1)}},d(u))}}else O(r)}}i.addEventListener(D,H);var k=b.Pop,_=h(),v=_[0],P=_[1],A=N(),p=N();v==null&&(v=0,f.replaceState(B({},f.state,{idx:v}),""));function T(r){return typeof r=="string"?r:M(r)}function S(r,n){return n===void 0&&(n=null),R(B({pathname:P.pathname,hash:"",search:""},typeof r=="string"?V(r):r,{state:n,key:q()}))}function $(r,n){return[{usr:r.state,key:r.key,idx:n},T(r)]}function w(r,n,e){return!p.length||(p.call({action:r,location:n,retry:e}),!1)}function O(r){k=r;var n=h();v=n[0],P=n[1],A.call({action:k,location:P})}function a(r,n){var e=b.Push,c=S(r,n);function u(){a(r,n)}if(w(e,c,u)){var x=$(c,v+1),m=x[0],L=x[1];try{f.pushState(m,"",L)}catch{i.location.assign(L)}O(e)}}function o(r,n){var e=b.Replace,c=S(r,n);function u(){o(r,n)}if(w(e,c,u)){var x=$(c,v),m=x[0],L=x[1];f.replaceState(m,"",L),O(e)}}function d(r){f.go(r)}var g={get action(){return k},get location(){return P},createHref:T,push:a,replace:o,go:d,back:function(){d(-1)},forward:function(){d(1)},listen:function(n){return A.push(n)},block:function(n){var e=p.push(n);return p.length===1&&i.addEventListener(j,C),function(){e(),p.length||i.removeEventListener(j,C)}}};return g}function U(t){t===void 0&&(t={});var y=t,l=y.window,i=l===void 0?document.defaultView:l,f=i.history;function h(){var n=V(i.location.hash.substr(1)),e=n.pathname,c=e===void 0?"/":e,u=n.search,x=u===void 0?"":u,m=n.hash,L=m===void 0?"":m,E=f.state||{};return[E.idx,R({pathname:c,search:x,hash:L,state:E.usr||null,key:E.key||"default"})]}var s=null;function H(){if(s)p.call(s),s=null;else{var n=b.Pop,e=h(),c=e[0],u=e[1];if(p.length){if(c!=null){var x=v-c;x&&(s={action:n,location:u,retry:function(){g(x*-1)}},g(x))}}else a(n)}}i.addEventListener(D,H),i.addEventListener(I,function(){var n=h(),e=n[1];M(e)!==M(P)&&H()});var k=b.Pop,_=h(),v=_[0],P=_[1],A=N(),p=N();v==null&&(v=0,f.replaceState(B({},f.state,{idx:v}),""));function T(){var n=document.querySelector("base"),e="";if(n&&n.getAttribute("href")){var c=i.location.href,u=c.indexOf("#");e=u===-1?c:c.slice(0,u)}return e}function S(n){return T()+"#"+(typeof n=="string"?n:M(n))}function $(n,e){return e===void 0&&(e=null),R(B({pathname:P.pathname,hash:"",search:""},typeof n=="string"?V(n):n,{state:e,key:q()}))}function w(n,e){return[{usr:n.state,key:n.key,idx:e},S(n)]}function O(n,e,c){return!p.length||(p.call({action:n,location:e,retry:c}),!1)}function a(n){k=n;var e=h();v=e[0],P=e[1],A.call({action:k,location:P})}function o(n,e){var c=b.Push,u=$(n,e);function x(){o(n,e)}if(O(c,u,x)){var m=w(u,v+1),L=m[0],E=m[1];try{f.pushState(L,"",E)}catch{i.location.assign(E)}a(c)}}function d(n,e){var c=b.Replace,u=$(n,e);function x(){d(n,e)}if(O(c,u,x)){var m=w(u,v),L=m[0],E=m[1];f.replaceState(L,"",E),a(c)}}function g(n){f.go(n)}var r={get action(){return k},get location(){return P},createHref:S,push:o,replace:d,go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return A.push(e)},block:function(e){var c=p.push(e);return p.length===1&&i.addEventListener(j,C),function(){c(),p.length||i.removeEventListener(j,C)}}};return r}function F(t){t===void 0&&(t={});var y=t,l=y.initialEntries,i=l===void 0?["/"]:l,f=y.initialIndex,h=i.map(function(a){var o=R(B({pathname:"/",search:"",hash:"",state:null,key:q()},typeof a=="string"?V(a):a));return o}),s=z(f==null?h.length-1:f,0,h.length-1),H=b.Pop,k=h[s],_=N(),v=N();function P(a){return typeof a=="string"?a:M(a)}function A(a,o){return o===void 0&&(o=null),R(B({pathname:k.pathname,search:"",hash:""},typeof a=="string"?V(a):a,{state:o,key:q()}))}function p(a,o,d){return!v.length||(v.call({action:a,location:o,retry:d}),!1)}function T(a,o){H=a,k=o,_.call({action:H,location:k})}function S(a,o){var d=b.Push,g=A(a,o);function r(){S(a,o)}p(d,g,r)&&(s+=1,h.splice(s,h.length,g),T(d,g))}function $(a,o){var d=b.Replace,g=A(a,o);function r(){$(a,o)}p(d,g,r)&&(h[s]=g,T(d,g))}function w(a){var o=z(s+a,0,h.length-1),d=b.Pop,g=h[o];function r(){w(a)}p(d,g,r)&&(s=o,T(d,g))}var O={get index(){return s},get action(){return H},get location(){return k},createHref:P,push:S,replace:$,go:w,back:function(){w(-1)},forward:function(){w(1)},listen:function(o){return _.push(o)},block:function(o){return v.push(o)}};return O}function z(t,y,l){return Math.min(Math.max(t,y),l)}function C(t){t.preventDefault(),t.returnValue=""}function N(){var t=[];return{get length(){return t.length},push:function(l){return t.push(l),function(){t=t.filter(function(i){return i!==l})}},call:function(l){t.forEach(function(i){return i&&i(l)})}}}function q(){return Math.random().toString(36).substr(2,8)}function M(t){var y=t.pathname,l=y===void 0?"/":y,i=t.search,f=i===void 0?"":i,h=t.hash,s=h===void 0?"":h;return f&&f!=="?"&&(l+=f.charAt(0)==="?"?f:"?"+f),s&&s!=="#"&&(l+=s.charAt(0)==="#"?s:"#"+s),l}function V(t){var y={};if(t){var l=t.indexOf("#");l>=0&&(y.hash=t.substr(l),t=t.substr(0,l));var i=t.indexOf("?");i>=0&&(y.search=t.substr(i),t=t.substr(0,i)),t&&(y.pathname=t)}return y}var Q=Object.freeze(Object.defineProperty({__proto__:null,get Action(){return b},createBrowserHistory:K,createHashHistory:U,createMemoryHistory:F,createPath:M,parsePath:V},Symbol.toStringTag,{value:"Module"}));export{K as a,M as c,Q as h};
//# sourceMappingURL=7e2b3593.js.map
